<div class="lawsuitTitleWrap">
  <h2 class="lawsuitTitle">Подготовка дела для отправки в суд</h2>
  <button
    class="remove_action_form__btn"
    (click)="this.lawsuitService.removeActionForm(actionId)"
  >
    <i class="uil-times"></i>
  </button>
</div>

<form class="page-form" [formGroup]="form" (ngSubmit)="submit()">
  <div class="row justify-content-between mb-2">
    <div class="col-6">
      <div class="select-field">
        <div class="select-field__title">Вид суда</div>
        <ng-select
          appearance="outline"
          [items]="options"
          bindLabel="label"
          bindValue="id"
          placeholder="Вид суда"
          #agreeSelect
          labelForId="yesno"
          [searchable]="false"
          formControlName="kindLaw"
        ></ng-select>
        <div
          *ngIf="form.get('kindLaw')?.touched && form.get('kindLaw')?.invalid"
          class="validation"
        >
          <small *ngIf="form.get('kindLaw')?.errors?.required">
            Выберите данные
          </small>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="select-field">
        <div class="select-field__title">Тип суда</div>
        <ng-select
          appearance="outline"
          [items]="options"
          bindLabel="label"
          bindValue="id"
          placeholder="Тип суда"
          #agreeSelect
          labelForId="yesno"
          [searchable]="false"
          formControlName="typeLaw"
        ></ng-select>
        <div
          *ngIf="form.get('typeLaw')?.touched && form.get('typeLaw')?.invalid"
          class="validation"
        >
          <small *ngIf="form.get('typeLaw')?.errors?.required">
            Выберите данные
          </small>
        </div>
      </div>
    </div>
  </div>

  <div class="row justify-content-between mb-2">
    <div class="col-6">
      <div class="select-field">
        <div class="select-field__title">Регион суда</div>
        <ng-select
          appearance="outline"
          [items]="options"
          bindLabel="label"
          bindValue="id"
          placeholder="Регион суда"
          #agreeSelect
          labelForId="yesno"
          [searchable]="false"
          formControlName="regionLaw"
        ></ng-select>
        <div
          *ngIf="
            form.get('regionLaw')?.touched && form.get('regionLaw')?.invalid
          "
          class="validation"
        >
          <small *ngIf="form.get('regionLaw')?.errors?.required">
            Выберите данные
          </small>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="select-field">
        <div class="select-field__title">Регион</div>
        <ng-select
          appearance="outline"
          [items]="options"
          bindLabel="label"
          bindValue="id"
          placeholder="Регион"
          #agreeSelect
          labelForId="yesno"
          [searchable]="false"
          formControlName="region"
        ></ng-select>
        <div
          *ngIf="form.get('region')?.touched && form.get('region')?.invalid"
          class="validation"
        >
          <small *ngIf="form.get('region')?.errors?.required">
            Выберите данные
          </small>
        </div>
      </div>
    </div>
  </div>

  <div class="row justify-content-between mb-2">
    <div class="col-6">
      <div class="select-field">
        <div class="select-field__title">Районный суд</div>
        <ng-select
          appearance="outline"
          [items]="options"
          bindLabel="label"
          bindValue="id"
          placeholder="Районный суд "
          #agreeSelect
          labelForId="yesno"
          [searchable]="false"
          formControlName="districtLaw"
        ></ng-select>
        <div
          *ngIf="
            form.get('districtLaw')?.touched && form.get('districtLaw')?.invalid
          "
          class="validation"
        >
          <small *ngIf="form.get('districtLaw')?.errors?.required">
            Выберите данные
          </small>
        </div>
      </div>
    </div>
  </div>

  <div class="row justify-content-between mb-2">
    <div class="col-6">
      <div class="input-field">
        <div class="input-field__title">Сумма иска</div>
        <label class="input-field__label readonly">
          <input type="text" autocomplete="off" formControlName="amountClaim" />
        </label>
      </div>
    </div>
  </div>

  <div class="row justify-content-between mb-2">
    <div class="col-6">
      <div class="input-field">
        <div class="input-field__title">Сумма неустойки</div>
        <label class="input-field__label">
          <input
            type="text"
            autocomplete="off"
            formControlName="amountForfeit"
          />
        </label>

        <div
          *ngIf="
            form.get('amountForfeit')?.touched &&
            form.get('amountForfeit')?.invalid
          "
          class="validation"
        >
          <small *ngIf="form.get('amountForfeit')?.errors?.required">
            Введите данные
          </small>
        </div>
      </div>
    </div>

    <div class="col-6">
      <div class="input-field">
        <div class="input-field__title">Сумма штрафа/пени</div>
        <label class="input-field__label">
          <input type="text" autocomplete="off" formControlName="amountFine" />
        </label>

        <div
          *ngIf="
            form.get('amountFine')?.touched && form.get('amountFine')?.invalid
          "
          class="validation"
        >
          <small *ngIf="form.get('amountFine')?.errors?.required">
            Введите данные
          </small>
        </div>
      </div>
    </div>
  </div>

  <div class="row justify-content-between mb-2">
    <div class="col-12">
      <button class="btn btn-dashed add">Получить из ИАБС</button>
    </div>
  </div>

  <div class="row justify-content-between mb-2">
    <div class="col-6">
      <div class="input-field">
        <div class="input-field__title">Дата внесение в суд</div>
        <label class="input-field__label">
          <!--        <input type="text" class="datepicker-here" readonly />-->
          <input
            class="input-box"
            angular-mydatepicker
            name="reactiveFormsDate"
            formControlName="dateLaw"
            [options]="myDpOptions"
            #dp="angular-mydatepicker"
            [locale]="'ru'"
          />
          <i class="icon-calendar" (click)="dp.toggleCalendar()"></i>
        </label>

        <div
          *ngIf="form.get('dateLaw')?.touched && form.get('dateLaw')?.invalid"
          class="validation"
        >
          <small
            *ngIf="
              form.controls.dateLaw.errors &&
              form.controls.dateLaw.errors.required &&
              !form.controls.dateLaw.errors.invalidDateFormat
            "
          >
            Введите данные
          </small>
          <small
            *ngIf="
              form.controls.dateLaw.errors &&
              form.controls.dateLaw.errors.invalidDateFormat
            "
          >
            Неккоректные данные
          </small>
        </div>
      </div>
    </div>
  </div>

  <div class="row justify-content-between mb-2">
    <div class="col-12">
      <div class="text-field">
        <div class="text-field__title">Дополнительная информация</div>
        <label class="text-field__label">
          <textarea
            placeholder="Уточните детали"
            formControlName="additionalInfo"
          ></textarea>
        </label>

        <div
          *ngIf="
            form.get('additionalInfo')?.touched &&
            form.get('additionalInfo')?.invalid
          "
          class="validation"
        >
          <small *ngIf="form.get('additionalInfo')?.errors?.required">
            Введите данные
          </small>
        </div>
      </div>
    </div>
  </div>

  <button
    type="submit"
    class="page-form__actionbtn text-uppercase add"
    [ngClass]="{ disableBtn: form.invalid || submitted }"
    [disabled]="form.invalid || submitted"
  >
    Отправить
  </button>
</form>
